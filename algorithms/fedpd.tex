\begin{algorithm}[ht]
% \SetAlgoNoLine
% \DontPrintSemicolon
\SetKwInOut{Input}{Input}
{\bfseries Initiation:} parameters $\theta^{(0)} \in \R^d$,\;
\For{each round $t = 0, 1, \cdots$}{
    \For{each client $k = 1, \cdots, K$ {\bfseries in parallel}}{
        $\theta_k^{(t+1)} \gets \operatorname{\mathbf{Oracle}}_k(\mathcal{L}_k(\theta_k^{(t)}, \theta_{k, 0}^{(t)}, \lambda_k^{(t)}))$\;
        $\lambda_k^{(t+1)} \gets \lambda_k^{(t)} + \frac{1}{s} (\theta_k^{(t+1)} - \theta_{k, 0}^{(t)})$ \tcc*[h]{dual update step}\;
        $\theta_{k, 0}^{(t+\frac{1}{2})} \gets \theta_k^{(t+1)} + s \lambda_k^{(t+1)}$
        }
    With probability $1 − p$ do global communication\;
    \Indp
    Client $k$ send $\theta_{k, 0}^{(t+\frac{1}{2})}$ to server $\forall k \in [K]$\;
    {\bfseries Server Update:}\;
    \Indp
    $\theta^{(t+1)} \gets \frac{1}{K} \sum\limits_{k=1}^K \theta_{k, 0}^{(t+\frac{1}{2})}$ \tcc*[h]{compute global average}\;
    \Indm
    Server broadcast $\theta^{(t+1)}$ to clients $k \in [K]$\;
    On client $k:$ $\theta^{(t+1)}_{0,k} \gets \theta^{(t+1)}, ~ \forall k \in [K]$\;
    \Indm
    With probability $p$ skip global communication:\;
    \Indp
    {\bfseries Client Update:} $\theta^{(t+1)}_{0,k} \gets \theta_{k, 0}^{(t+\frac{1}{2})}, ~ \forall k \in [K]$\;
    \Indm
}
\caption{联邦原始对偶算法\texttt{FedPD}\cite{zhang2020fedpd}的伪代码}
\label{algo:fedpd}
\end{algorithm}
